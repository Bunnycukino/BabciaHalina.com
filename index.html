<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Rękodzieło handmade autorstwa Babci Haliny - unikalne serwety, aniołki i dekoracje domowe">
  <title>Babcia Halina - Rękodzieło Handmade</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Plus+Jakarta+Sans:wght@300;400;500;600&display=swap">
</head>
<body>

  <header>
    <div class="container">
      <h1>Babcia Halina</h1>
      <p>Rękodzieło handmade z pasją</p>
    </div>
  </header>

  <nav>
    <div class="container">
      <a href="#youtube">YouTube</a>
      <a href="#o-mnie">O mnie</a>
      <a href="#produkty">Produkty</a>
      <a href="#kontakt">Kontakt</a>
    </div>
  </nav>

  <main>
    <section id="o-mnie" class="section">
      <div class="container">
        <h2>O mnie</h2>
        <p>Cześć! Nazywam się Halina i od wielu lat z pasją tworzę rękodzieło. Szyję serwetki, wykonuję robótki ręczne i wiele innych unikalnych przedmiotów. Każdy produkt powstaje z sercem, starannością i dbałością o najmniejsze detale – tak, aby cieszył i ozdabiał Wasze domy.</p>
      </div>
    </section>

    <section id="produkty" class="section">
      <div class="container">
        <h2>Moje produkty</h2>
        <div class="produkty-grid" id="grid">
          <!-- Tu będą się pojawiać nowe zdjęcia dodane przez mamę (na samej górze) -->

          <!-- Twoje istniejące produkty (pozostają bez zmian) -->
          <div class="produkt"><img src="assets/produkty/IMG_3993.jpeg" loading="lazy"><h3>Aniołek Lily</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4464.jpeg" loading="lazy"><h3>pajacyki</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4161.jpeg" loading="lazy"><h3>ubranko</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4162.jpeg" loading="lazy"><h3>Buciki</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4167.jpeg" loading="lazy"><h3>Czerwony Aniołek</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4168.jpeg" loading="lazy"><h3>Bąbki</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4169.jpeg" loading="lazy"><h3>Koszyk różyczek</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4115.jpeg" loading="lazy"><h3>kurczaczki</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4116.jpeg" loading="lazy"><h3>Kroliczek</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4118.jpeg" loading="lazy"><h3>koszyczek Wielkanocny</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4119.jpeg" loading="lazy"><h3>Buciki dla dzieciuszka</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_3992.jpeg" loading="lazy"><h3>Aniołek 2</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_3991.jpeg" loading="lazy"><h3>Balwanki i Aniołek</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_3986.jpeg" loading="lazy"><h3>Serweta</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_3927.jpg" loading="lazy"><h3>Aniołek</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <!-- … reszta Twoich produktów … -->
        </div>
      </div>
    </section>

    <!-- Sekcje YouTube i Kontakt bez zmian -->
    <section id="youtube" class="section">…</section>
    <section id="kontakt" class="section">…</section>
  </main>

  <footer>
    <div class="container">
      <p>© <span id="current-year"></span> Babcia Halina | Wszelkie prawa zastrzeżone</p>
    </div>
  </footer>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox">
    <span class="lightbox-close" id="lightbox-close">×</span>
    <img src="" alt="Podgląd zdjęcia" id="lightbox-img">
  </div>

  <!-- PRZYCISK PANELU BABCI -->
  <button id="admin-btn" title="Panel tylko dla Babci Haliny">
    Panel Babci
  </button>

  <!-- OKIENKO LOGOWANIA -->
  <div id="login-modal" class="modal">
    <div class="modal-content">
      <h3>Panel Babci Haliny</h3>
      <input type="text" id="login" placeholder="Login" autocomplete="off"><br><br>
      <input type="password" id="password" placeholder="Hasło" autocomplete="off"><br><br>
      <button onclick="zaloguj()">Zaloguj</button>
      <button onclick="document.getElementById('login-modal').style.display='none'" style="background:#999;">Anuluj</button>
      <p id="login-error" style="color:red;margin-top:10px;"></p>
    </div>
  </div>

  <!-- OKIENKO DODAWANIA ZDJĘCIA -->
  <div id="add-modal" class="modal">
    <div class="modal-content">
      <h3>Dodaj nowe zdjęcie</h3>
      <input type="text" id="nazwa-produktu" placeholder="Nazwa produktu (np. Serweta okrągła)" style="width:100%;padding:10px;margin:10px 0;"><br>
      <input type="file" id="zdjecie" accept="image/*" style="margin:100%;padding:10px;"><br><br>
      <button onclick="wyslijZdjecie()">DODAJ NA STRONĘ</button>
      <button onclick="wyloguj()" style="background:#c0392b;">Wyloguj</button>
      <p id="status" style="margin-top:15px;font-weight:bold;"></p>
    </div>
  </div>

  <script>
    // Zmień tutaj hasło, jeśli chcesz coś innego
    const LOGIN = "Halinka";
    const HASLO = "Halinka";

    const TOKEN = "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"; // Twój token
    const REPO = "Bunnycukino/BabciaHalina.com";
    const PATH = "assets/produkty";

    document.getElementById("admin-btn").onclick = () => {
      document.getElementById("login-modal").style.display = "block";
    };

    function zaloguj() {
      const l = document.getElementById("login").value;
      const p = document.getElementById("password").value;
      if (l === LOGIN && p === HASLO) {
        document.getElementById("login-modal").style.display = "none";
        document.getElementById("add-modal").style.display = "block";
      } else {
        document.getElementById("login-error").textContent = "Zły login lub hasło!";
      }
    }

    function wyloguj() {
      document.getElementById("add-modal").style.display = "none";
      document.getElementById("login").value = "";
      document.getElementById("password").value = "";
    }

    async function wyslijZdjecie() {
      const fileInput = document.getElementById("zdjecie");
      const nazwa = document.getElementById("nazwa-produktu").value.trim() || "Nowy produkt";
      const status = document.getElementById("status");

      if (!fileInput.files[0]) {
        status.style.color = "red";
        status.textContent = "Wybierz zdjęcie!";
        return;
      }

      status.style.color = "#333";
      status.textContent = "Wysyłam…";

      const file = fileInput.files[0];
      const reader = new FileReader();
      reader.onload = async function(e) {
        const base64 = e.target.result.split(',')[1];
        const ext = file.name.split('.').pop();
        const filename = `${nazwa.replace(/[^a-z0-9]/gi, '_').toLowerCase()}_${Date.now()}.${ext}`;

        try {
          const res = await fetch(`https://api.github.com/repos/${REPO}/contents/${PATH}/${filename}`, {
            method: "PUT",
            headers: {
              Authorization: `token ${TOKEN}`,
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              message: `Dodano przez Babcię: ${nazwa}`,
              content: base64,
              branch: "main"
            })
          });

          const data = await res.json();

          if (data.content && data.content.html_url) {
            const url = data.content.download_url;

            const nowy = document.createElement("div");
            nowy.className = "produkt";
            nowy.innerHTML = `<img src="${url}" loading="lazy"><h3>${nazwa}</h3><p>nowość – możliwość zamówienia</p>`;

            document.getElementById("grid").insertBefore(nowy, document.getElementById("grid").firstChild);

            status.style.color = "green";
            status.textContent = "Dodano! Odśwież stronę za chwilę";

            // Czyścimy formularz
            document.getElementById("nazwa-produktu").value = "";
            fileInput.value = "";
          } else {
            status.style.color = "red";
            status.textContent = "Błąd – spróbuj jeszcze raz";
          }
        } catch (err) {
          status.style.color = "red";
          status.textContent = "Brak internetu?";
        }
      };
      reader.readAsDataURL(file);
    }

    // Rok w stopce
    document.getElementById("current-year").textContent = new Date().getFullYear();
  </script>

  <style>
    #admin-btn {
      position: fixed;
      bottom: 20px;
      right:20px;
      background: #5A3921;
      color: white;
      padding: 15px 22px;
      border-radius: 50px;
      border: none;
      cursor: pointer;
      z-index: 999;
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
      font-size: 15px;
      font-weight: bold;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.8);
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      background: white;
      padding: 30px;
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      text-align: center;
    }

    input, button {
      padding: 12px;
      margin: 8px 0;
      width: 100%;
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    button {
      background: #5A3921;
      color: white;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }
  </style>

</body>
</html>
