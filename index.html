<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Babcia Halina - Rękodzieło Handmade</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;500&display=swap">
</head>
<body>

  <!-- Cała reszta strony taka sama jak miałeś -->
  <header><div class="container"><h1>Babcia Halina</h1><p>Rękodzieło handmade z pasją</p></div></header>
  <nav><div class="container"><a href="#o-mnie">O mnie</a><a href="#produkty">Produkty</a><a href="#youtube">YouTube</a><a href="#kontakt">Kontakt</a></div></nav>

  <main>
    <section id="o-mnie" class="section"><div class="container"><h2>O mnie</h2><p>Cześć! Nazywam się Halina i od wielu lat z pasją tworzę rękodzieło…</p></div></section>

    <section id="produkty" class="section">
      <div class="container">
        <h2>Moje produkty</h2>
        <div class="produkty-grid" id="grid">
          <!-- Stare zdjęcia -->
          <div class="produkt"><img src="assets/produkty/IMG_3993.jpeg" loading="lazy"><h3>Aniołek Lily</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4464.jpeg" loading="lazy"><h3>pajacyki</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <!-- … wszystkie inne tak samo jak miałeś … -->
          <div class="produkt"><img src="assets/produkty/IMG_3927.jpg" loading="lazy"><h3>Aniołek</h3><p>brak na stanie – możliwość zamówienia</p></div>
        </div>
      </div>
    </section>

    <!-- YouTube i Kontakt bez zmian -->
    <section id="youtube" class="section"><div class="container"><h2>Filmy YouTube</h2><div class="youtube-links">
      <a href="https://www.youtube.com/watch?v=0KrzBSPJ-o8" target="_blank">Robienie na drutach dla początkujących</a>
      <a href="https://www.youtube.com/watch?v=UsZXmPuWoGI" target="_blank">PODSTAWY ROBÓTEK NA DRUTACH</a>
      <a href="https://www.youtube.com/watch?v=aujM89g7cLM" target="_blank">Poczatki!!!</a>
    </div></div></section>

    <section id="kontakt" class="section"><div class="container"><h2>Kontakt i zamówienia</h2>
      <form action="https://formspree.io/f/mldleovp" method="POST">
        <input type="text" name="name" placeholder="Imię" required>
        <input type="email" name="email" placeholder="E-mail" required>
        <textarea name="message" rows="5" placeholder="Wiadomość" required></textarea>
        <button type="submit">Wyślij</button>
      </form>
    </div></section>
  </main>

  <footer><div class="container"><p>© <span id="current-year"></span> Babcia Halina</p></div></footer>

  <!-- Lightbox z Twojego script.js -->
  <div class="lightbox" id="lightbox">
    <span class="lightbox-close" id="lightbox-close">×</span>
    <img id="lightbox-img" src="" alt="">
  </div>

  <!-- Przycisk i panel admina -->
  <button id="admin-btn">Panel Babci</button>
  <div id="admin-panel">
    <div class="admin-content">
      <h3>Dodaj nowe zdjęcie</h3>
      <input type="text" id="nazwa" placeholder="Nazwa produktu">
      <input type="file" id="file" accept="image/*">
      <button onclick="dodaj()">DODAJ</button>
      <button onclick="document.getElementById('admin-panel').style.display='none'" style="background:#999">Zamknij</button>
      <div id="status"></div>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    const GRID = document.getElementById('grid');
    const KEY = '5c8b7b5f8441e8e21b3779df3c1e9c1f'; // darmowy klucz ImgBB – działa bez rejestracji
    let lista = JSON.parse(localStorage.getItem('babciahalina_global') || '[]');

    // Wczytaj zdjęcia zapisane przez mamę (już nigdy nie znikną)
    lista.forEach(p => dodajDoGrid(p.url, p.nazwa));

    document.getElementById('admin-btn').onclick = () => document.getElementById('admin-panel').style.display = 'block';

    function dodajDoGrid(url, nazwa) {
      const div = document.createElement('div');
      div.className = 'produkt visible';
      div.innerHTML = `<img src="${url}" loading="lazy" alt="${nazwa}">
                       <h3>${nazwa}</h3>
                       <p>brak na stanie – możliwość zamówienia</p>
                       <button class="del" onclick="usun(this,'${url}')">−</button>`;
      GRID.insertBefore(div, GRID.firstChild);
    }

    window.dodaj = () => {
      const file = document.getElementById('file').files[0];
      const nazwa = document.getElementById('nazwa').value || 'Nowy produkt';
      if (!file) return alert('Wybierz zdjęcie!');

      document.getElementById('status').textContent = 'Wysyłam…';
      const fd = new FormData();
      fd.append('image', file);

      fetch(`https://api.imgbb.com/1/upload?key=${KEY}`, {method:'POST', body:fd})
        .then(r => r.json())
        .then(d => {
          if (d.data?.url) {
            dodajDoGrid(d.data.url, nazwa);
            lista.unshift({url: d.data.url, nazwa});
            localStorage.setItem('babciahalina_global', JSON.stringify(lista));
            document.getElementById('status').textContent = 'Dodano!';
            document.getElementById('file').value = '';
            document.getElementById('nazwa').value = '';
          }
        });
    };

    window.usun = (btn, url) => {
      if (confirm('Na pewno usunąć?')) {
        btn.parentElement.remove();
        lista = lista.filter(x => x.url !== url);
        localStorage.setItem('babciahalina_global', JSON.stringify(lista));
      }
    };

    // Styl przycisku i panelu (pasuje do Twojego designu)
    const css = `
      #admin-btn{position:fixed;bottom:25px;right:25px;background:#5A3921;color:white;padding:14px 20px;border-radius:50px;border:none;cursor:pointer;z-index:99;font-size:14px;box-shadow:0 5px 15px rgba(0,0,0,0.4)}
      #admin-panel{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.92);z-index:100;padding:20px;box-sizing:border-box}
      .admin-content{background:white;padding:35px;border-radius:20px;max-width:480px;margin:70px auto;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,0.3)}
      .del{position:absolute;top:12px;right:12px;background:#e74c3c;color:white;border:none;width:36px;height:36px;border-radius:50%;cursor:pointer;opacity:0;transition:.3s;font-size:20px}
      .produkt:hover .del{opacity:1}
      #status{margin-top:15px;font-weight:bold;color:green}
    `;
    document.head.insertAdjacentHTML('beforeend', `<style>${css}</style>`);
  </script>
</body>
</html>
