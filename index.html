<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Rękodzieło handmade Babci Haliny">
  <title>Babcia Halina - Rękodzieło Handmade</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;500&display=swap">
</head>
<body>

  <header>
    <div class="container">
      <h1>Babcia Halina</h1>
      <p>Rękodzieło handmade z pasją</p>
    </div>
  </header>

  <nav>
    <div class="container">
      <a href="#o-mnie">O mnie</a>
      <a href="#produkty">Produkty</a>
      <a href="#youtube">YouTube</a>
      <a href="#kontakt">Kontakt</a>
    </div>
  </nav>

  <main>
    <section id="o-mnie" class="section">
      <div class="container">
        <h2>O mnie</h2>
        <p>Cześć! Nazywam się Halina i od wielu lat z pasją tworzę rękodzieło. Szyję serwetki, aniołki, buciki, dekoracje świąteczne… Wszystko z sercem i dbałością o detale.</p>
      </div>
    </section>

    <section id="produkty" class="section">
      <div class="container">
        <h2>Moje produkty</h2>
        <div class="produkty-grid" id="grid">
          <!-- Stare zdjęcia z assets -->
          <div class="produkt"><img src="assets/produkty/IMG_3993.jpeg" alt="Aniołek Lily" loading="lazy"><h3>Aniołek Lily</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4464.jpeg" alt="pajacyki" loading="lazy"><h3>pajacyki</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4161.jpeg" alt="ubranko" loading="lazy"><h3>ubranko</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4162.jpeg" alt="Buciki" loading="lazy"><h3>Buciki</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4167.jpeg" alt="Czerwony Aniołek" loading="lazy"><h3>Czerwony Aniołek</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4168.jpeg" alt="Bąbki" loading="lazy"><h3>Bąbki</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4169.jpeg" alt="Koszyk różyczek" loading="lazy"><h3>Koszyk różyczek</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4115.jpeg" alt="kurczaczki" loading="lazy"><h3>kurczaczki</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4116.jpeg" alt="Kroliczek" loading="lazy"><h3>Kroliczek</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4118.jpeg" alt="koszyczek Wielkanocny" loading="lazy"><h3>koszyczek Wielkanocny</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_4119.jpeg" alt="Buciki dla dzieciuszka" loading="lazy"><h3>Buciki dla dzieciuszka</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_3992.jpeg" alt="Aniołek 2" loading="lazy"><h3>Aniołek 2</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_3991.jpeg" alt="Balwanki i Aniołek" loading="lazy"><h3>Balwanki i Aniołek</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_3986.jpeg" alt="Serweta" loading="lazy"><h3>Serweta</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <div class="produkt"><img src="assets/produkty/IMG_3927.jpg" alt="Aniołek" loading="lazy"><h3>Aniołek</h3><p>brak na stanie – możliwość zamówienia</p></div>
          <!-- tu będą nowe zdjęcia z localStorage -->
        </div>
      </div>
    </section>

    <section id="youtube" class="section">
      <div class="container">
        <h2>Filmy YouTube</h2>
        <div class="youtube-links">
          <a href="https://www.youtube.com/watch?v=0KrzBSPJ-o8" target="_blank">Robienie na drutach dla początkujących</a>
          <a href="https://www.youtube.com/watch?v=UsZXmPuWoGI" target="_blank">PODSTAWY ROBÓTEK NA DRUTACH</a>
          <a href="https://www.youtube.com/watch?v=aujM89g7cLM" target="_blank">Poczatki!!!</a>
        </div>
      </div>
    </section>

    <section id="kontakt" class="section">
      <div class="container">
        <h2>Kontakt i zamówienia</h2>
        <form action="https://formspree.io/f/mldleovp" method="POST">
          <input type="text" name="name" placeholder="Imię" required>
          <input type="email" name="email" placeholder="E-mail" required>
          <textarea name="message" rows="5" placeholder="Wiadomość" required></textarea>
          <button type="submit">Wyślij</button>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>© <span id="current-year"></span> Babcia Halina | Wszelkie prawa zastrzeżone</p>
    </div>
  </footer>

  <!-- Lightbox z Twojego script.js -->
  <div class="lightbox" id="lightbox">
    <span class="lightbox-close" id="lightbox-close">×</span>
    <img id="lightbox-img" src="" alt="">
  </div>

  <!-- Przycisk i panel admina -->
  <button id="admin-btn" title="Panel Babci">Panel</button>
  <div id="admin-panel">
    <div class="admin-content">
      <h3>Dodaj nowe zdjęcie</h3>
      <input type="text" id="nazwa" placeholder="Nazwa produktu">
      <input type="file" id="zdjecie" accept="image/*">
      <button onclick="dodaj()">DODAJ</button>
      <button onclick="zamknij()" style="background:#999">Zamknij</button>
      <div id="status"></div>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    // === Panel admina + zapis w localStorage ===
    const grid = document.getElementById('grid');
    let produkty = JSON.parse(localStorage.getItem('babciahalina_extra') || '[]');

    // Wczytaj zapisane zdjęcia
    produkty.forEach(p => {
      const div = document.createElement('div');
      div.className = 'produkt visible';
      div.innerHTML = `<img src="${p.src}" loading="lazy" alt="${p.nazwa}">
                       <h3>${p.nazwa}</h3>
                       <p>brak na stanie – możliwość zamówienia</p>
                       <button class="del" onclick="usun('${p.id}', this)">Usuń</button>`;
      grid.insertBefore(div, grid.firstChild);
    });

    document.getElementById('admin-btn').onclick = () => document.getElementById('admin-panel').style.display = 'block';
    window.zamknij = () => document.getElementById('admin-panel').style.display = 'none';

    window.dodaj = () => {
      const plik = document.getElementById('zdjecie').files[0];
      const nazwa = document.getElementById('nazwa').value || 'Nowy produkt';
      if (!plik) return status('Wybierz zdjęcie!');

      const reader = new FileReader();
      reader.onload = e => {
        const src = e.target.result;
        const id = Date.now();
        const div = document.createElement('div');
        div.className = 'produkt visible';
        div.innerHTML = `<img src="${src}" loading="lazy" alt="${nazwa}">
                         <h3>${nazwa}</h3>
                         <p>brak na stanie – możliwość zamówienia</p>
                         <button class="del" onclick="usun('${id}', this)">Usuń</button>`;
        grid.insertBefore(div, grid.firstChild);

        produkty.unshift({id, src, nazwa});
        localStorage.setItem('babciahalina_extra', JSON.stringify(produkty));
        status('Dodano!');
        document.getElementById('zdjecie').value = '';
        document.getElementById('nazwa').value = '';
      };
      reader.readAsDataURL(plik);
    };

    window.usun = (id, btn) => {
      if (confirm('Na pewno usunąć?')) {
        btn.parentElement.remove();
        produkty = produkty.filter(x => x.id != id);
        localStorage.setItem('babciahalina_extra', JSON.stringify(produkty));
      }
    };

    function status(t) { document.getElementById('status').innerHTML = '<br>'+t; }

    // Dodatkowe style dla przycisku usuwania i panelu
    const extraCSS = `
      #admin-btn{position:fixed;bottom:20px;right:20px;background:#5A3921;color:white;padding:15px 20px;border-radius:50px;border:none;cursor:pointer;z-index:99;box-shadow:0 5px 15px rgba(0,0,0,0.3);font-size:14px}
      #admin-panel{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:100;padding:20px;box-sizing:border-box}
      .admin-content{background:white;padding:30px;border-radius:15px;max-width:500px;margin:50px auto;text-align:center}
      .del{position:absolute;top:10px;right:10px;background:#e74c3c;color:white;border:none;width:36px;height:36px;border-radius:50%;cursor:pointer;opacity:0;transition:.3s;font-size:18px}
      .produkt:hover .del{opacity:1}
    `;
    const style = document.createElement('style');
    style.textContent = extraCSS;
    document.head.appendChild(style);
  </script>
</body>
</html>
